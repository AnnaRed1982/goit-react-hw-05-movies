{"version":3,"file":"static/js/457.fc6d2b30.chunk.js","mappings":"sPACA,EAA6B,4BAA7B,EAAwE,8B,SCsDxE,EAlDgB,WACd,OAA8BA,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,SAArC,eAAOK,EAAP,KAAeC,EAAf,KAEQC,GAAYC,EAAAA,EAAAA,MAAZD,QAiBR,OAhBAE,EAAAA,EAAAA,YAAU,WACRH,EAAU,WACV,IAAMI,EAAU,mCAAG,8GAEQC,EAAAA,EAAAA,IAAkBJ,GAF1B,OAETK,EAFS,OAIfV,EAAWU,GACXN,EAAU,YALK,gDAOfA,EAAU,YACVF,EAAS,KAAMS,SARA,yDAAH,qDAWhBH,GACD,GAAE,CAACH,IAEW,YAAXF,GACK,uCAGM,aAAXA,GACK,2DAAmCF,KAE7B,aAAXE,EACqB,IAAnBJ,EAAQa,QACH,qEAGP,+BACE,eAAIC,UAAWC,EAAf,SACGf,EAAQgB,KAAI,SAAAC,GACX,OACE,2BACE,gBAAIH,UAAWC,EAAf,qBAA0CE,EAAOC,WACjD,uBAAID,EAAOE,YAFJF,EAAOG,GAKnB,aAdT,CAmBD,C,+LCnDKC,EAAU,mCACVC,EAAW,+BAEJC,EAAiB,mCAAG,oGACRC,EAAAA,EAAAA,IAAA,UAClBF,EADkB,uCACqBD,IAFb,cACzBV,EADyB,yBAKxBA,EAASc,KAAKC,SALU,2CAAH,qDAQjBC,EAAiB,mCAAG,WAAMrB,GAAN,uFACRkB,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACAhB,EADA,oBACmBe,EADnB,oBADQ,cACzBV,EADyB,yBAIxBA,EAASc,MAJe,2CAAH,sDAOjBG,EAAc,mCAAG,WAAMtB,GAAN,uFACLkB,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACAhB,EADA,4BAC2Be,EAD3B,oBADK,cACtBV,EADsB,yBAIrBA,EAASc,KAAKI,MAJO,2CAAH,sDAOdnB,EAAiB,mCAAG,WAAMJ,GAAN,uFACRkB,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACAhB,EADA,4BAC2Be,EAD3B,2BADQ,cACzBV,EADyB,yBAIxBA,EAASc,KAAKC,SAJU,2CAAH,sDAOjBI,EAAgB,mCAAG,WAAMC,GAAN,uFACPP,EAAAA,EAAAA,IAAA,UAClBF,EADkB,iCACeD,EADf,wCACsDU,IAF/C,cACxBpB,EADwB,yBAIvBA,EAASc,KAAKC,SAJS,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.js","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviewItem\":\"Reviews_reviewItem__ax7Fo\",\"reviewAuthor\":\"Reviews_reviewAuthor__f4lkL\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchMovieReviews } from 'services/api';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('start');\n\n  const { movieId } = useParams();\n  useEffect(() => {\n    setStatus('pending');\n    const fetchMovie = async () => {\n      try {\n        const response = await fetchMovieReviews(movieId);\n\n        setReviews(response);\n        setStatus('resolved');\n      } catch (error) {\n        setStatus('rejected');\n        setError(error.message);\n      }\n    };\n    fetchMovie();\n  }, [movieId]);\n\n  if (status === 'pending') {\n    return <h2>Loading...</h2>;\n  }\n\n  if (status === 'rejected') {\n    return <h2>Whoops, something went wrong: {error}</h2>;\n  }\n  if (status === 'resolved') {\n    if (reviews.length === 0) {\n      return <p>We don't have any reviews for this movie</p>;\n    }\n    return (\n      <>\n        <ul className={css.reviewItem}>\n          {reviews.map(review => {\n            return (\n              <li key={review.id}>\n                <h4 className={css.reviewAuthor}>Author: {review.author}</h4>\n                <p>{review.content}</p>\n              </li>\n            );\n          })}\n        </ul>\n      </>\n    );\n  }\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nconst API_KEY = '7b4917c1c89b56950d6ac1f3ef5382d2';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const fetchPopularMovie = async () => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\n\nexport const fetchMovieSearch = async query => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&query=${query}`\n  );\n  return response.data.results;\n};\n"],"names":["useState","reviews","setReviews","error","setError","status","setStatus","movieId","useParams","useEffect","fetchMovie","fetchMovieReviews","response","message","length","className","css","map","review","author","content","id","API_KEY","BASE_URL","fetchPopularMovie","axios","data","results","fetchMovieDetails","fetchMovieCast","cast","fetchMovieSearch","query"],"sourceRoot":""}