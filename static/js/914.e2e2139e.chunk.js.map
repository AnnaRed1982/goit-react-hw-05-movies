{"version":3,"file":"static/js/914.e2e2139e.chunk.js","mappings":"gRACA,EAA6B,iCAA7B,EAA2E,iCAA3E,EAAmH,2BAAnH,EAA2J,iCAA3J,EAA8M,sCAA9M,EAAiQ,iC,SC2GjQ,EA7FqB,WAAO,IAAD,IAGzB,GAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,SAArC,eAAOK,EAAP,KAAeC,EAAf,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAEFE,GAAWC,EAAAA,EAAAA,MAEXC,GAAeC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAkBpD,OAhBAC,EAAAA,EAAAA,YAAU,WACRT,EAAU,WACV,IAAMU,EAAU,mCAAG,8GAEQC,EAAAA,EAAAA,IAAkBV,GAF1B,OAETW,EAFS,OAIfhB,EAASgB,GACTZ,EAAU,YALK,gDAOfA,EAAU,YACVF,EAAS,KAAMe,SARA,yDAAH,qDAWhBH,GACD,GAAE,CAACT,IAEW,YAAXF,GACK,uCAGM,aAAXA,GACK,2DAAmCF,KAG7B,aAAXE,GAEA,iCACE,SAAC,KAAD,CAAMe,GAAIT,EAAaU,QAASC,UAAWC,EAA3C,UACE,oBAAQC,KAAK,SAASF,UAAWC,EAAjC,WACE,SAAC,MAAD,CAAaE,KAAK,OADpB,gBAMF,iBAAKH,UAAWC,EAAhB,UACGtB,EAAMyB,aACL,gBACEC,IAAG,UAhDK,mCAgDL,OAAmB1B,EAAMyB,aAC5BE,IAAI,eACJN,UAAWC,KAGb,gBAAKI,IAAKE,EAAQD,IAAI,eAAeN,UAAWC,KAGlD,iBAAKD,UAAWC,EAAhB,WACE,0BACGtB,EAAM6B,MADT,KACkB7B,EAAM8B,aAAaC,MAAM,EAAG,GAD9C,QAIA,wCAAgBC,KAAKC,MAA2B,GAArBjC,EAAMkC,cAAjC,QAEA,sCACA,6BAAKlC,EAAMmC,aACX,4BACE,oCACA,eAAId,UAAWC,EAAf,SACGtB,EAAMoC,OAAOC,KAAI,SAAAC,GAChB,OAAO,wBAAoBA,EAAMC,MAAjBD,EAAME,GACvB,gBAKT,oDACA,2BACE,yBACE,SAAC,KAAD,CAAMrB,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAASA,GAAG,UAAZ,2BAGJ,SAAC,EAAAsB,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,cAlDR,CAuDD,C,+LCxGKC,EAAU,mCACVC,EAAW,+BAEJC,EAAiB,mCAAG,oGACRC,EAAAA,EAAAA,IAAA,UAClBF,EADkB,uCACqBD,IAFb,cACzB1B,EADyB,yBAKxBA,EAAS8B,KAAKC,SALU,2CAAH,qDAQjBhC,EAAiB,mCAAG,WAAMV,GAAN,uFACRwC,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACAtC,EADA,oBACmBqC,EADnB,oBADQ,cACzB1B,EADyB,yBAIxBA,EAAS8B,MAJe,2CAAH,sDAOjBE,EAAc,mCAAG,WAAM3C,GAAN,uFACLwC,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACAtC,EADA,4BAC2BqC,EAD3B,oBADK,cACtB1B,EADsB,yBAIrBA,EAAS8B,KAAKG,MAJO,2CAAH,sDAOdC,EAAiB,mCAAG,WAAM7C,GAAN,uFACRwC,EAAAA,EAAAA,IAAA,UAClBF,EADkB,kBACAtC,EADA,4BAC2BqC,EAD3B,2BADQ,cACzB1B,EADyB,yBAIxBA,EAAS8B,KAAKC,SAJU,2CAAH,sDAOjBI,EAAgB,mCAAG,WAAMC,GAAN,uFACPP,EAAAA,EAAAA,IAAA,UAClBF,EADkB,iCACeD,EADf,wCACsDU,IAF/C,cACxBpC,EADwB,yBAIvBA,EAAS8B,KAAKC,SAJS,2CAAH,qD","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.js","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"buttonLink\":\"MovieDetails_buttonLink__dgbZH\",\"buttonBack\":\"MovieDetails_buttonBack__sNwb2\",\"card\":\"MovieDetails_card__pqAte\",\"cardPoster\":\"MovieDetails_cardPoster__9Lk4w\",\"cardDescription\":\"MovieDetails_cardDescription__Wu3V7\",\"cardGenres\":\"MovieDetails_cardGenres__494Rr\"};","import { Suspense } from 'react';\n\nimport { useState, useEffect, useRef } from 'react';\nimport {\n  NavLink,\n  Link,\n  Outlet,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\nimport { fetchMovieDetails } from '../../services/api';\nimport { HiArrowLeft } from 'react-icons/hi';\nimport poster from '../../images/poster.png';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const POSTER_PATH = 'https://image.tmdb.org/t/p/w500';\n\n  const [movie, setMovie] = useState([]);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('start');\n  const { movieId } = useParams();\n\n  const location = useLocation();\n\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    setStatus('pending');\n    const fetchMovie = async () => {\n      try {\n        const response = await fetchMovieDetails(movieId);\n\n        setMovie(response);\n        setStatus('resolved');\n      } catch (error) {\n        setStatus('rejected');\n        setError(error.message);\n      }\n    };\n    fetchMovie();\n  }, [movieId]);\n\n  if (status === 'pending') {\n    return <h2>Loading...</h2>;\n  }\n\n  if (status === 'rejected') {\n    return <h2>Whoops, something went wrong: {error}</h2>;\n  }\n\n  if (status === 'resolved') {\n    return (\n      <>\n        <Link to={backLinkHref.current} className={css.buttonLink}>\n          <button type=\"button\" className={css.buttonBack}>\n            <HiArrowLeft size=\"20\" />\n            Go back\n          </button>\n        </Link>\n\n        <div className={css.card}>\n          {movie.poster_path ? (\n            <img\n              src={`${POSTER_PATH}${movie.poster_path}`}\n              alt=\"movie poster\"\n              className={css.cardPoster}\n            />\n          ) : (\n            <img src={poster} alt=\"movie poster\" className={css.cardPoster} />\n          )}\n\n          <div className={css.cardDescription}>\n            <h2>\n              {movie.title} ({movie.release_date.slice(0, 4)})\n            </h2>\n\n            <p>User Score: {Math.round(movie.vote_average * 10)}%</p>\n\n            <h3>Overview</h3>\n            <p> {movie.overview}</p>\n            <div>\n              <h4>Genres</h4>\n              <ul className={css.cardGenres}>\n                {movie.genres.map(genre => {\n                  return <li key={genre.id}>{genre.name}</li>;\n                })}\n              </ul>\n            </div>\n          </div>\n        </div>\n        <h4>Additional information</h4>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <NavLink to=\"reviews\">Reviews</NavLink>\n          </li>\n        </ul>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </>\n    );\n  }\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = '7b4917c1c89b56950d6ac1f3ef5382d2';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const fetchPopularMovie = async () => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\n\nexport const fetchMovieSearch = async query => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&query=${query}`\n  );\n  return response.data.results;\n};\n"],"names":["useState","movie","setMovie","error","setError","status","setStatus","movieId","useParams","location","useLocation","backLinkHref","useRef","state","from","useEffect","fetchMovie","fetchMovieDetails","response","message","to","current","className","css","type","size","poster_path","src","alt","poster","title","release_date","slice","Math","round","vote_average","overview","genres","map","genre","name","id","Suspense","fallback","API_KEY","BASE_URL","fetchPopularMovie","axios","data","results","fetchMovieCast","cast","fetchMovieReviews","fetchMovieSearch","query"],"sourceRoot":""}